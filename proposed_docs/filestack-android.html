<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filestack Android SDK - Filestack Docs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="robots" content="noindex">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Use Inter as the default font */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
            color: #374151;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Main content container styling */
        .main-content-area {
            background-color: #ffffff; /* White content area */
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        /* Styling for code blocks */
        .code-block-wrapper {
            background-color: #1f2937;
            border-radius: 0.375rem;
            margin-top: 0.5rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .code-block {
            padding: 1rem;
            color: #d1d5db;
            font-size: 0.875rem;
            overflow-x: auto;
            font-family: 'ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", monospace;
        }
        
        /* Inline code styling */
        code.inline-code {
            background-color: #e5e7eb;
            color: #be123c;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        /* Table styling */
        table {
            width: 100%;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-collapse: collapse;
        }
        th, td {
            text-align: left;
            padding: 0.75rem 1rem;
            border: 1px solid #e5e7eb;
            vertical-align: top;
        }
        th {
            background-color: #f9fafb;
            font-weight: 600;
        }
        
        /* General link styling */
        a {
            color: #ea580c;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12">
        <div class="lg:grid lg:grid-cols-12 lg:gap-8">
            
            <main class="lg:col-span-9">
                <div class="text-sm text-gray-500 mb-4">
                    <a href="#" class="hover:text-gray-700">Documentation</a>
                    <span class="mx-2">&rsaquo;</span>
                    <span>Filestack Android SDK</span>
                </div>

                <!-- Disclaimer Banner -->
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">
                                This is not the official Filestack documentation. If you're seeing this, please visit the 
                                <a href="https://www.filestack.com/docs/" class="font-medium text-yellow-700 hover:text-yellow-600 underline">official Filestack documentation</a>.
                            </p>
                        </div>
                    </div>
                </div>

                <h1 class="text-4xl font-bold tracking-tight text-gray-900 mb-8">Filestack Android SDK ðŸ¤–</h1>

                <div class="main-content-area">
                    <section id="filestack-android-sdk" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Filestack Android SDK</h2><p class="text-gray-600 leading-relaxed">Android file uploader for Filestack. Upload local files or select from 10 different cloud sources. Uploads from cloud sources transfer cloud to cloud, avoiding large mobile uploads. Supports Amazon Drive, Box, Dropbox, Facebook, GitHub, Gmail, Google Drive, Google Photos, Instagram, and OneDrive.</p></section><section id="install" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Install</h2>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>implementation &#x27;com.filestack:filestack-android:6.0.0&#x27;</code></pre>
        </div>
    </div>
    </section><section id="tester-and-samples" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Tester and Samples</h2><p class="text-gray-600 leading-relaxed">To quickly test out the SDK you can clone this repo and build the development app (located in the tester directory). It contains settings UI to customize the picker and set credentials, no code changes necessary. You can also build one of the sample apps (located in the samples directory). The tester app is setup as a module of this project but the sample apps are setup as independent projects.</p></section><section id="setup" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Setup</h2>
    <div id="add-file-provider-for-camera-source">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Add file provider for camera source</h3>
        <p class="text-gray-600 leading-relaxed mb-4">To enable users to take photos and videos within the picker, a file provider must be defined for the application to avoid sending "file://" URI's to the camera app. Failure to define a file provider will throw a FileUriExposedException on Android Nougat and above. See the google documentation for more information.
Add a tag to your AndroidManifest.xml:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>&lt;provider
    android:name=&quot;android.support.v4.content.FileProvider&quot;
    
    android:authorities=&quot;com.filestack.android.demo.fileprovider&quot;
    android:exported=&quot;false&quot;
    android:grantUriPermissions=&quot;true&quot;&gt;
    &lt;meta-data
        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;
        android:resource=&quot;@xml/file_paths&quot; /&gt;
&lt;/provider&gt;</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">file_paths.xml:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;external-path name=&quot;pictures&quot; path=&quot;Android/data/com.filestack.android.demo/files/Pictures&quot; /&gt;
    &lt;external-path name=&quot;movies&quot; path=&quot;Android/data/com.filestack.android.demo/files/Movies&quot; /&gt;
&lt;/paths&gt;</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">The "pictures" and "movies" names are expected to be defined.</p></section><section id="upload-files" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Upload files</h2>
    <div id="use-filestackpicker---new-way">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Use FilestackPicker - new way</h3>
        <p class="text-gray-600 leading-relaxed mb-4">FilestackPicker.Builder class has been introduced to simplify construction of Intents to run FsActivity.</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>FilestackPicker picker = new FilestackPicker.Builder()
                    .config(...)
                    .storageOptions(...)
                    .config(...)
                    .autoUploadEnabled(...)                    
                    .sources(...)
                    .mimeTypes(...)
                    .multipleFilesSelectionEnabled(...)
                    .displayVersionInformation(...)
                    .build();
                    picker.launch(activity); //use an Activity instance to launch a picker</code></pre>
        </div>
    </div>
    
    <div id="receive-activity-results---new-way">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Receive activity results - new way</h3>
        <p class="text-gray-600 leading-relaxed mb-4">FsActivity returns immediately once a user selects files. The returned response will always be of List<Selections> type. Receive the response in the calling activity:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (FilestackPicker.canReadResult(requestCode, resultCode)) {
        Log.i(TAG, &quot;received filestack selections&quot;);
        List&lt;Selection&gt; selections = FilestackPicker.getSelectedFiles(data);
        for (int i = 0; i &lt; selections.size(); i++) {
            Selection selection = selections.get(i);
            String msg = String.format(locale, &quot;selection %d: %s&quot;, i, selection.getName());
            Log.i(TAG, msg);
        }
    }    
}</code></pre>
        </div>
    </div>
    
    <div id="launch-activity---old-way">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Launch activity - old way</h3>
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>// Create an intent to launch FsActivity
Intent intent = new Intent(this, FsActivity.class);
// Create a config object with your account settings
// Using security (policy and signature) is optional
Config config = new Config(&quot;API_KEY&quot;, &quot;RETURN_URL&quot;, &quot;POLICY&quot;, &quot;SIGNATURE&quot;);
intent.putExtra(FsConstants.EXTRA_CONFIG, config);
// Setting storage options is also optional
// We&#x27;ll default to Filestack S3 if unset
// The Filename and MIME type options are ignored and overridden
StorageOptions storeOpts = new StorageOptions.Builder()
    .location(&quot;gcs&quot;)
    .container(&quot;android-uploads&quot;)
    .build();
intent.putExtra(FsConstants.EXTRA_STORE_OPTS, storeOpts);
// To manually handle uploading, set auto upload to false
// You can upload the user&#x27;s selections yourself with the Client class
intent.putExtra(FsConstants.EXTRA_AUTO_UPLOAD, false);
// To customize the sources list, pass in a list of constants
// The sources will appear in the order you add them to the list
// Defaults to Camera, Device, Google Drive, Facebook, Instagram, and Dropbox
ArrayList&lt;String&gt; sources = new ArrayList&lt;&gt;();
sources.add(Sources.CAMERA);
sources.add(Sources.DEVICE);
sources.add(Sources.GOOGLE_DRIVE);
sources.add(Sources.GITHUB);
intent.putExtra(FsConstants.EXTRA_SOURCES, sources);
// Restrict the types of files that can be uploaded
// Defaults to allowing all
String[] mimeTypes = {&quot;application/pdf&quot;, &quot;image/*&quot;, &quot;video/*&quot;};
intent.putExtra(FsConstants.EXTRA_MIME_TYPES, mimeTypes);
// Start the activity
startActivityForResult(intent, REQUEST_FILESTACK);</code></pre>
        </div>
    </div>
    
    <div id="receive-activity-results---old-way">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Receive activity results - old way</h3>
        <p class="text-gray-600 leading-relaxed mb-4">FsActivity returns immediately once a user selects files. The returned response will always be an ArrayList of Selection objects. Receive the response in the calling activity:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);

    if (requestCode == REQUEST_FILESTACK &amp;&amp; resultCode == RESULT_OK) {
        Log.i(TAG, &quot;received filestack selections&quot;);
        String key = FsConstants.EXTRA_SELECTION_LIST;
        ArrayList&lt;Selection&gt; selections = data.getParcelableArrayListExtra(key);
        for (int i = 0; i &lt; selections.size(); i++) {
            Selection selection = selections.get(i);
            String msg = String.format(locale, &quot;selection %d: %s&quot;, i, selection.getName());
            Log.i(TAG, msg);
        }
    }
}</code></pre>
        </div>
    </div>
    </section><section id="receive-upload-status-broadcasts" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Receive upload status broadcasts</h2><p class="text-gray-600 leading-relaxed">Because the actual uploading occurs in a background service, a BroadcastReceiver needs to be registered in order to get a status and resultant FileLink for each selected file. When the picker returns to onActivityResult() an ArrayList of Selection objects will be received. When an intent message is received in the registered BroadcastReceiver, a status string, a Selection (matching
one in the list), and a FileLink (if the upload succeeded) will be received. As the upload progresses, the background service will also put up notifications about its ongoing status.</p>
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">UploadStatusReceiver.java:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>public class UploadStatusReceiver extends BroadcastReceiver {
    private static final String TAG = &quot;UploadStatusReceiver&quot;;

    @Override
    public void onReceive(Context context, Intent intent) {
        Locale locale = Locale.getDefault();
        String status = intent.getStringExtra(FsConstants.EXTRA_STATUS);
        Selection selection = intent.getParcelableExtra(FsConstants.EXTRA_SELECTION);
        FileLink fileLink = (FileLink) intent.getSerializableExtra(FsConstants.EXTRA_FILE_LINK);

        String name = selection.getName();
        String handle = fileLink != null ? fileLink.getHandle() : &quot;n/a&quot;;
        String msg = String.format(locale, &quot;upload %s: %s (%s)&quot;, status, name, handle);
        Log.i(TAG, msg);
    }
}</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">Register the receiver in the calling activity's onCreate():</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>// Be careful to avoid registering multiple receiver instances
if (savedInstanceState == null) {
    IntentFilter intentFilter = new IntentFilter(FsConstants.BROADCAST_UPLOAD);
    UploadStatusReceiver receiver = new UploadStatusReceiver();
    LocalBroadcastManager.getInstance(this).registerReceiver(receiver, intentFilter);
}</code></pre>
        </div>
    </div>
    </section><section id="theming" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Theming</h2><p class="text-gray-600 leading-relaxed">Filestack Android SDK provides a theming mechanism for Filestack Picker screen.
Setting a theme requires passing a Theme to Filestack.Builder#theme(Theme) method call. Theme objects can be constructed with a Theme.Builder instance. If theme is not set, a default one will be used.</p></section><section id="native-ui" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Native UI</h2><p class="text-gray-600 leading-relaxed">At present this SDK doesn't offer many customization options, but the Java SDK can be used to build a native UI. This SDK adds UI and convenience on top of the Java SDK.</p></section><section id="proguard" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Proguard</h2><p class="text-gray-600 leading-relaxed">Filestack Android SDK definies its own consumerProguardRule to ensure that no additional configuration on consumer side is required.</p></section><section id="deployment" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Deployment</h2><p class="text-gray-600 leading-relaxed">This is for Filestack devs. Deployments are made to Bintray. You must have an account that's been added to the Filestack organization to deploy. Also make sure to follow general Filestack release guidelines. "BINTRAY_USER" and "BINTRAY_API_KEY" environment variables are required. To run:</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>export BINTRAY_USER=&#x27;&#x27;
export BINTRAY_API_KEY=&#x27;&#x27;
./gradlew bintrayUpload</code></pre>
        </div>
    </div>
    </section>
                </div>
            </main>

            <aside class="hidden lg:block lg:col-span-3">
                <nav class="sticky top-12">
                    <h4 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-3">On this page</h4>
                    <ul>
                        <li><a href="#filestack-android-sdk" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Filestack Android SDK</a></li><li><a href="#install" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Install</a></li><li><a href="#tester-and-samples" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Tester and Samples</a></li><li><a href="#setup" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Setup</a><ul class="pl-4 mt-1"><li><a href="#add-file-provider-for-camera-source" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Add file provider for camera source</a></li></ul></li><li><a href="#upload-files" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Upload files</a><ul class="pl-4 mt-1"><li><a href="#use-filestackpicker---new-way" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Use FilestackPicker - new way</a></li><li><a href="#receive-activity-results---new-way" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Receive activity results - new way</a></li><li><a href="#launch-activity---old-way" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Launch activity - old way</a></li><li><a href="#receive-activity-results---old-way" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Receive activity results - old way</a></li></ul></li><li><a href="#receive-upload-status-broadcasts" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Receive upload status broadcasts</a></li><li><a href="#theming" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Theming</a></li><li><a href="#native-ui" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Native UI</a></li><li><a href="#proguard" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Proguard</a></li><li><a href="#deployment" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Deployment</a></li>
                    </ul>
                </nav>
            </aside>

        </div>
    </div>

    <script>
        // JavaScript for active sidebar link highlighting on scroll
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('main section');
            const navLinks = document.querySelectorAll('aside nav a');

            const onScroll = () => {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 70) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('text-orange-600', 'font-medium');
                    if (!link.href.includes('#')) return;

                    const linkHref = link.getAttribute('href').substring(1);

                    if (linkHref === current) {
                        link.classList.add('text-orange-600', 'font-medium');
                        const parentUl = link.closest('ul.pl-4');
                        if (parentUl) {
                            const parentLink = parentUl.previousElementSibling;
                            if (parentLink && parentLink.tagName === 'A') {
                                parentLink.classList.add('text-orange-600', 'font-medium');
                            }
                        }
                    }
                });
            };

            window.addEventListener('scroll', onScroll);
            onScroll(); // Run on page load
        });
    </script>

</body>
</html>
