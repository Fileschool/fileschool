<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filestack Ruby SDK - Filestack Docs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Use Inter as the default font */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
            color: #374151;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Main content container styling */
        .main-content-area {
            background-color: #ffffff; /* White content area */
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        /* Styling for code blocks */
        .code-block-wrapper {
            background-color: #1f2937;
            border-radius: 0.375rem;
            margin-top: 0.5rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        .code-block {
            padding: 1rem;
            color: #d1d5db;
            font-size: 0.875rem;
            overflow-x: auto;
            font-family: 'ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", monospace;
        }
        
        /* Inline code styling */
        code.inline-code {
            background-color: #e5e7eb;
            color: #be123c;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        /* Table styling */
        table {
            width: 100%;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-collapse: collapse;
        }
        th, td {
            text-align: left;
            padding: 0.75rem 1rem;
            border: 1px solid #e5e7eb;
            vertical-align: top;
        }
        th {
            background-color: #f9fafb;
            font-weight: 600;
        }
        
        /* General link styling */
        a {
            color: #ea580c;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12">
        <div class="lg:grid lg:grid-cols-12 lg:gap-8">
            
            <main class="lg:col-span-9">
                <div class="text-sm text-gray-500 mb-4">
                    <a href="#" class="hover:text-gray-700">Documentation</a>
                    <span class="mx-2">&rsaquo;</span>
                    <span>Filestack Ruby SDK</span>
                </div>

                <h1 class="text-4xl font-bold tracking-tight text-gray-900 mb-8">Filestack Ruby SDK ðŸ’Ž</h1>

                <div class="main-content-area">
                    <section id="filestack-ruby-sdk" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Filestack Ruby SDK</h2><p class="text-gray-600 leading-relaxed">Ruby SDK for Filestack API and content management system.</p><p class="text-gray-600 leading-relaxed">Important: This is the readme for 2.1.0. A recent change (2.1.0) has renamed the Client to FilestackClient, and the Filelink to FilestackFilelink. Please make neccessary changes before upgrading to newest release if you run 2.0.1 or 2.0.0. This was to address namespace concerns by users with models and attributes named Client, and to be more consistent.</p></section><section id="overview" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Overview</h2><ul class="list-disc list-inside text-gray-600 space-y-2 mt-4"><li>A multi-part uploader powered on the backend by the Filestack CIN.</li><li>An interface to the Filestack Processing Engine for transforming assets via URLs.</li><li>The Filestack Picker - an upload widget for the web that integrates over a dozen cloud providers and provides pre-upload image editing.</li></ul></section><section id="installation" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Installation</h2><p class="text-gray-600 leading-relaxed">Add this line to your application's Gemfile:</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>gem &#x27;filestack&#x27;</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">And then execute:</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>$ bundle</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">Or install it yourself as:</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>$ gem install filestack</code></pre>
        </div>
    </div>
    </section><section id="usage" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Usage</h2>
    <div id="import">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Import</h3>
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>require &#x27;filestack&#x27;</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">Intialize the client using your API key, and security if you are using it.</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>client = FilestackClient.new(&#x27;YOUR_API_KEY&#x27;, security: security_object)</code></pre>
        </div>
    </div>
    
    <div id="uploading">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Uploading</h3>
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>filelink = client.upload(filepath: &#x27;/path/to/localfile&#x27;)
# OR
filelink = client.upload(external_url: &#x27;http://domain.com/image.png&#x27;)
# Return response body on upload complete
puts filelink.upload_response
# Return uploaded filelink handle
puts filelink.handle</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">To upload a local, an IO object and an external file with following optional options:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>options = {
  filename: &#x27;string&#x27;,
  location: &#x27;string&#x27;,
  path: &#x27;string&#x27;,
  container: &#x27;string&#x27;,
  mimetype: &#x27;string&#x27;,
  region: &#x27;string&#x27;,
  workflows: [&#x27;workflow-id-1&#x27;, &#x27;workflow-id-2&#x27;],
  upload_tags: {
    key: &#x27;value&#x27;,
    key2: &#x27;value&#x27;
  }
}
filelink = client.upload(filepath: &#x27;/path/to/localfile&#x27;, options: { mimetype: &#x27;image/png&#x27;, filename: &#x27;custom_filename.png&#x27; })
filelink = client.upload(external_url: &#x27;http://domain.com/image.png&#x27;, options: { mimetype: &#x27;image/jpeg&#x27;, filename: &#x27;custom_filename.png&#x27; })</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">To store file on dropbox, azure, gcs or rackspace, you must have the chosen provider configured in the developer portal to enable this feature. By default the file is stored on s3. You can add more details of the storage in options.</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>filelink = client.upload(filepath: &#x27;/path/to/file&#x27;, storage: &#x27;s3&#x27;, options: { path: &#x27;folder_name/&#x27;, container: &#x27;container_name&#x27;, location: &#x27;s3&#x27;, region: &#x27;region_name&#x27; })
filelink = client.upload(external_url: &#x27;http://someurl.com/image.png&#x27;, options: { location: &#x27;dropbox&#x27;, path: &#x27;folder_name&#x27; })</code></pre>
        </div>
    </div>
    
    <div id="workflows">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Workflows</h3>
        <p class="text-gray-600 leading-relaxed mb-4">Workflows allow you to wire up conditional logic and image processing to enforce business processes, automate ingest, and save valuable development time. In order to trigger the workflow job for each upload:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>filelink = client.upload(filepath: &#x27;/path/to/file&#x27;, options: { workflows: [&quot;workflow_id_1&quot;, &quot;workflow_id_2&quot;] })
#OR
filelink = client.upload(external_url: &#x27;http://someurl.com/image.png&#x27;, options: { workflows: [&quot;workflow_id_1&quot;] })
# Return workflows jobids on upload complete
puts filelink.upload_response[&quot;workflows&quot;]</code></pre>
        </div>
    </div>
    </section><section id="security" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Security</h2><p class="text-gray-600 leading-relaxed">If security is enabled on your account, or if you are using certain actions that require security (delete, overwrite and certain transformations), you will need to create a security object and pass it into the client on instantiation.</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>security = FilestackSecurity.new(&#x27;YOUR_APP_SECRET&#x27;, options: {call: %w[read store pick runWorkflow]})
client = FilestackClient.new(&#x27;YOUR_API_KEY&#x27;, security: security)</code></pre>
        </div>
    </div>
    </section><section id="using-filestackfilelinks" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Using FilestackFilelinks</h2><p class="text-gray-600 leading-relaxed">FilestackFilelink objects are representation of a file handle. You can download, get raw file content, delete and overwrite file handles directly. Security is required for overwrite and delete methods.</p><p class="text-gray-600 leading-relaxed">Initialize the filelink using the file handle, your API key, and security if required. The file handle is the string following the last slash / in the file URL.</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>filelink = FilestackFilelink.new(handle, apikey: &#x27;YOUR_API_KEY&#x27;, security: security_object)</code></pre>
        </div>
    </div>
    
    <div id="deletion">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Deletion</h3>
        <p class="text-gray-600 leading-relaxed mb-4">You can delete a file by simply calling delete on the filelink.</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>filelink.delete</code></pre>
        </div>
    </div>
    
    <div id="transformations">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Transformations</h3>
        <p class="text-gray-600 leading-relaxed mb-4">Transforms can be initiated one of two ways. The first, by calling transform on a filelink:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform = filelink.transform</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">Or by using an external URL via the client:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform = client.transform_external(&#x27;https://someurl.com&#x27;)</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">Transformations can be chained together as you please.</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform = filelink.transform.resize(width: 100, height: 100).flip.enhance</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">You can retrieve the URL of a transform object:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform.url</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">Or you can store (upload) the transformation as a new filelink:</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>new_filelink = transform.store</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">For a list of valid transformations, please see here.</p>
    <div id="fallback">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Fallback</h3>
        <p class="text-gray-600 leading-relaxed mb-4">Return default file if the source of the transformation does not work or the transformation fails. To use fallback, you should provide handle of the file that should be returned. Optionally, you can add cache, which means number of seconds fallback response should be cached in CDN.</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform = client.transform_external(&#x27;https://someurl.com/file.png&#x27;).fallback(file: &#x27;DEFAULT_HANDLE_OR_FILEPATH&#x27;)</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">If you are using fallback handle that belongs to different application than the one which runs transformation (APIKEY) and it is secured with security policy, appropriate signature and policy with read call should be used:</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform = client.transform_external(&#x27;https://someurl.com/file.png&#x27;).fallback(file: &#x27;DEFAULT_HANDLE_OR_FILEPATH?policy=HANDLE_APIKEY_POLICY&amp;signature=HANDLE_APIKEY_SIGNATURE&#x27;, cache: 10)</code></pre>
        </div>
    </div>
    
    <div id="content">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Content</h3>
        <p class="text-gray-600 leading-relaxed mb-4">Sets Content-Disposition header for given file.</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>transform = filelink.transform.content(filename: &#x27;DEFAULT_FILENAME&#x27;, type: &#x27;TYPE&#x27;)</code></pre>
        </div>
    </div>
    
    <div id="tagging">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Tagging</h3>
        <p class="text-gray-600 leading-relaxed mb-4">If you have auto-tagging enabled onto your account, it can be called on any filelink object (tags don't work on external URLs).</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>tags = filelink.tags</code></pre>
        </div>
    </div>
    <p class="text-gray-600 leading-relaxed">This will return a hash with labels and their associated confidence:</p>
    <div id="">
        
        
        <div class="code-block-wrapper">
            <pre class="code-block"><code>{
    &quot;auto&quot; =&gt; {
        &quot;art&quot;=&gt;73,
        &quot;big cats&quot;=&gt;79,
        &quot;carnivoran&quot;=&gt;80,
        &quot;cartoon&quot;=&gt;93,
        &quot;cat like mammal&quot;=&gt;92,
        &quot;fauna&quot;=&gt;86, &quot;mammal&quot;=&gt;92,
        &quot;small to medium sized cats&quot;=&gt;89,
        &quot;tiger&quot;=&gt;92,
        &quot;vertebrate&quot;=&gt;90},
    &quot;user&quot; =&gt; nil}</code></pre>
        </div>
    </div>
    
    <div id="">
        
        <p class="text-gray-600 leading-relaxed mb-4">SFW is called the same way, but returns a boolean value (true == safe-for-work, false == not-safe-for-work).</p>
        <div class="code-block-wrapper">
            <pre class="code-block"><code>sfw = filelink.sfw</code></pre>
        </div>
    </div>
    </section><section id="versioning" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Versioning</h2><p class="text-gray-600 leading-relaxed">Filestack Ruby SDK follows the Semantic Versioning.</p></section><section id="issues" class="mb-12"><h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Issues</h2><p class="text-gray-600 leading-relaxed">If you have problems, please create a Github Issue.</p></section>
                </div>
            </main>

            <aside class="hidden lg:block lg:col-span-3">
                <nav class="sticky top-12">
                    <h4 class="text-sm font-semibold text-gray-900 tracking-wider uppercase mb-3">On this page</h4>
                    <ul>
                        <li><a href="#filestack-ruby-sdk" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Filestack Ruby SDK</a></li><li><a href="#overview" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Overview</a></li><li><a href="#installation" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Installation</a></li><li><a href="#usage" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Usage</a><ul class="pl-4 mt-1"><li><a href="#import" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Import</a></li><li><a href="#uploading" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Uploading</a></li><li><a href="#workflows" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Workflows</a></li></ul></li><li><a href="#security" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Security</a></li><li><a href="#using-filestackfilelinks" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Using FilestackFilelinks</a><ul class="pl-4 mt-1"><li><a href="#deletion" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Deletion</a></li><li><a href="#transformations" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Transformations</a></li><li><a href="#fallback" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Fallback</a></li><li><a href="#content" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Content</a></li><li><a href="#tagging" class="block text-sm text-gray-500 hover:text-gray-900 py-1">Tagging</a></li></ul></li><li><a href="#versioning" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Versioning</a></li><li><a href="#issues" class="block text-sm text-gray-600 hover:text-gray-900 py-1 mt-1">Issues</a></li>
                    </ul>
                </nav>
            </aside>

        </div>
    </div>

    <script>
        // JavaScript for active sidebar link highlighting on scroll
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('main section');
            const navLinks = document.querySelectorAll('aside nav a');

            const onScroll = () => {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 70) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('text-orange-600', 'font-medium');
                    if (!link.href.includes('#')) return;

                    const linkHref = link.getAttribute('href').substring(1);

                    if (linkHref === current) {
                        link.classList.add('text-orange-600', 'font-medium');
                        const parentUl = link.closest('ul.pl-4');
                        if (parentUl) {
                            const parentLink = parentUl.previousElementSibling;
                            if (parentLink && parentLink.tagName === 'A') {
                                parentLink.classList.add('text-orange-600', 'font-medium');
                            }
                        }
                    }
                });
            };

            window.addEventListener('scroll', onScroll);
            onScroll(); // Run on page load
        });
    </script>

</body>
</html>